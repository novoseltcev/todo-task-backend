# tox (https://tox.readthedocs.io/) is a tool for running tests
# in multiple virtualenvs. This configuration file will run the
# test suite on all supported python versions. To use it, "pip install tox"
# and then run "tox" from this directory.

[tox]
envlist =
    pytest,
    flake

skipsdist=True

[testenv:pytest]
deps =
    pytest
commands =
    - pytest

[testenv:flake]
deps =
    flake8
commands =
    - flake8 app

[flake8]
per-file-ignores =
    # imported but unused
    __init__.py: F401, F403
    app/models.py: F401
    app/routes.py: F405, F403, F401
exclude =
    # No need to traverse our git directory
    .git,
    # There's no value in checking cache directories
    __pycache__,
    # The conf file is mostly autogenerated, ignore it
    docs/source/conf.py,
    # The old directory contains Flake8 2.0
    old,
    # This contains our built documentation
    build,
    # This contains builds of flake8 that we don't want to check
    dist,
    env,
    label_studio.egg-info,
    dumps

max-complexity = 10
max-line-length = 120

